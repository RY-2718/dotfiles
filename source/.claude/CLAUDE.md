# CLAUDE.md 個人向けグローバル設定

このファイルは ~/.claude/CLAUDE.md に配置されている、全てのプロジェクトに共通の個人向け設定です。

## トラブルシューティング

トラブルシューティング時にはあらゆるコンポーネントの再起動を影響の小さいものを優先して提案してください。
計算機科学の世界におけるトラブルは往々にしてコンポーネントの再起動によって解決されるためです。

## 一部のコマンドについて

`rm` コマンドは `alias rm='rm -i'` でエイリアスを張っています。
ファイルを消すときは `\rm` で unalias して実行してください。

## コードのコメントについて

コードを読めば分かることは書かない。特に以下のようなコメントは避ける：

- 処理の流れをそのままなぞるコメント
- 変数代入や構造体構築の説明
- 関数名や変数名で明らかな処理の説明

一方、以下の情報は積極的にコメントする：

- **WHY**: なぜその実装か、なぜその順序か
- **制約・注意**: 破壊的変更、前提条件、パフォーマンス特性
- **ドメイン知識**: 業務ルール、法律、外部仕様への参照
- **非自明な意図**: 一見不思議に見えるコードの背景

## ドキュメントについて

ドキュメントを書く際は以下の点を**必ず守る**こと。
ただし、ユーザーからの要望があればその限りではない。

- コードの解説では「なぜ」「どこを見るか」を記述する: 実装の意図や詳細を読むべきファイルを示す
- メンテナンスを容易にする: 現状ではなく原理原則を解説する。e.g.,
  - 「このプロジェクトの実装はステートマシンを用いて管理されている。処理全体の流れを管理するもの、各処理の詳細を管理するものの複層構造になっている」などのコメントを残す
  - 「このステートマシンでは12個の状態と18個のイベントで構成されている」などのコメントは不要
- コードの実装例は必要最小限に留める
  - 複雑なコンセプトや利用方法を抽象化したサンプルコードは必要
  - プロジェクトのコードをそのままコピーした実装の解説はユーザーが求めない限り不要